import{d as e,k as a,r as l,v as s,C as t,z as i,D as o,o as r,h as u,w as m,c as d,F as n,G as p,a as c,x as j}from"./index-c922549f.js";import{a as f,E as b}from"./el-select-2d83cd87.js";import"./el-input-5992562e.js";/* empty css               */import"./el-popper-777547bb.js";import{r as g,s as v}from"./index-51cc2b47.js";import"./index-c4f3a95b.js";import"./use-form-common-props-cca367ba.js";import"./constants-84857360.js";import"./index-075fce49.js";import"./use-form-item-04993e5b.js";import"./index-d069b56e.js";import"./event-5568c9d8.js";import"./scroll-2bae90a4.js";import"./isEqual-9f3d5ffd.js";import"./debounce-6961f983.js";import"./index-1f214b38.js";import"./validator-ea5284a6.js";import"./isNil-1f22f7b0.js";import"./focus-trap-8b9664b6.js";const x=e({__name:"MeetingSessionSelect",props:{modelValue:{default:""},size:{default:"default"},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},meetingUuid:{default:""}},emits:["update:modelValue"],setup(e,{emit:x}){const y=e,{t:V}=a(),h=l([]),z=l(!1),w=s({get:()=>y.modelValue,set(e){x("update:modelValue",e)}}),U=async(e="")=>{let a=[],l=c(w);const s=l;if(z.value=!0,l)try{const e=await g(l);a.push(e)}catch(t){l=""}try{const s=(await v({meeting:y.meetingUuid,name_contains:e})).results.filter((e=>e.uuid!==l));a=a.concat(s),y.clearable||l||!a.length||(l=a[0].uuid)}finally{(!s&&l||s&&!l)&&(w.value=l),h.value=a,z.value=!1}};return t((()=>y.meetingUuid),(async()=>{await U()})),i((()=>{U()})),o((()=>{U()})),(e,a)=>(r(),u(c(b),{modelValue:c(w),"onUpdate:modelValue":a[0]||(a[0]=e=>j(w)?w.value=e:null),loading:z.value,placeholder:c(V)("meetings.meetingSession"),size:y.size,disabled:y.disabled,clearable:y.clearable,remote:!0,"remote-method":U,filterable:""},{default:m((()=>[(r(!0),d(n,null,p(h.value,(e=>(r(),u(c(f),{key:e.uuid,label:e.name,value:e.uuid},null,8,["label","value"])))),128))])),_:1},8,["modelValue","loading","placeholder","size","disabled","clearable"]))}});export{x as default};
