import{bS as e,bT as l,a7 as t,v as o,ag as a,bD as n,b6 as s,C as i,a as r,d as u,S as p,q as c,aG as d,ah as v,ad as h,_ as m,K as f,aT as b,o as g,c as y,O as S,e as C,t as O,n as x,aj as L,r as w,z as I,aR as T,X as M,V as E,aU as V,aH as P,aL as k,bU as D,av as z,aD as B,bV as q,$ as W,ax as A,a6 as F,ae as K,L as H,a_ as j,N as _,af as R,a8 as $,bW as N,H as Q,I as G,g as U,w as Y,h as J,i as X,F as Z,G as ee,y as le,J as te,aS as oe,a3 as ae,ai as ne,Y as se,ak as ie}from"./index-c922549f.js";import{E as re,u as ue,a as pe}from"./el-popper-777547bb.js";import{i as ce,E as de}from"./el-input-5992562e.js";import{E as ve,t as he}from"./index-c4f3a95b.js";import{u as me}from"./index-075fce49.js";import{u as fe}from"./use-form-item-04993e5b.js";import{u as be}from"./use-form-common-props-cca367ba.js";import{U as ge,C as ye}from"./event-5568c9d8.js";import{s as Se}from"./scroll-2bae90a4.js";import{i as Ce}from"./isEqual-9f3d5ffd.js";import{d as Oe}from"./debounce-6961f983.js";import{C as xe}from"./index-1f214b38.js";import{i as Le}from"./validator-ea5284a6.js";const we=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Ie=l=>e(l),Te=Symbol("ElSelectGroup"),Me=Symbol("ElSelect");var Ee=m(u({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const l=p("select"),u=c({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:m,itemSelected:f,isDisabled:b,select:g,hoverItem:y}=function(e,l){const u=t(Me),p=t(Te,{disabled:!1}),c=o((()=>"[object object]"===Object.prototype.toString.call(e.value).toLowerCase())),d=o((()=>u.props.multiple?g(u.props.modelValue,e.value):y(e.value,u.props.modelValue))),v=o((()=>{if(u.props.multiple){const e=u.props.modelValue||[];return!d.value&&e.length>=u.props.multipleLimit&&u.props.multipleLimit>0}return!1})),h=o((()=>e.label||(c.value?"":e.value))),m=o((()=>e.value||e.label||"")),f=o((()=>e.disabled||l.groupDisabled||v.value)),b=a(),g=(e=[],l)=>{if(c.value){const t=u.props.valueKey;return e&&e.some((e=>n(s(e,t))===s(l,t)))}return e&&e.includes(l)},y=(e,l)=>{if(c.value){const{valueKey:t}=u.props;return s(e,t)===s(l,t)}return e===l};i((()=>h.value),(()=>{e.created||u.props.remote||u.setSelected()})),i((()=>e.value),((l,t)=>{const{remote:o,valueKey:a}=u.props;if(Object.is(l,t)||(u.onOptionDestroy(t,b.proxy),u.onOptionCreate(b.proxy)),!e.created&&!o){if(a&&"object"==typeof l&&"object"==typeof t&&l[a]===t[a])return;u.setSelected()}})),i((()=>p.disabled),(()=>{l.groupDisabled=p.disabled}),{immediate:!0});const{queryChange:S}=n(u);return i(S,(t=>{const{query:o}=r(t),a=new RegExp(we(o),"i");l.visible=a.test(h.value)||e.created,l.visible||u.filteredOptionsCount--}),{immediate:!0}),{select:u,currentLabel:h,currentValue:m,itemSelected:d,isDisabled:f,hoverItem:()=>{e.disabled||p.disabled||(u.hoverIndex=u.optionsArray.indexOf(b.proxy))}}}(e,u),{visible:S,hover:C}=d(u),O=a().proxy;return g.onOptionCreate(O),v((()=>{const e=O.value,{selected:l}=g,t=(g.props.multiple?l:[l]).some((e=>e.value===O.value));h((()=>{g.cachedOptions.get(e)!==O||t||g.cachedOptions.delete(e)})),g.onOptionDestroy(e,O)})),{ns:l,currentLabel:m,itemSelected:f,isDisabled:b,select:g,hoverItem:y,visible:S,hover:C,selectOptionClick:function(){!0!==e.disabled&&!0!==u.groupDisabled&&g.handleOptionSelect(O,!0)},states:u}}}),[["render",function(e,l,t,o,a,n){return f((g(),y("li",{class:x([e.ns.be("dropdown","item"),e.ns.is("disabled",e.isDisabled),{selected:e.itemSelected,hover:e.hover}]),onMouseenter:l[0]||(l[0]=(...l)=>e.hoverItem&&e.hoverItem(...l)),onClick:l[1]||(l[1]=L(((...l)=>e.selectOptionClick&&e.selectOptionClick(...l)),["stop"]))},[S(e.$slots,"default",{},(()=>[C("span",null,O(e.currentLabel),1)]))],34)),[[b,e.visible]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);var Ve=m(u({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=t(Me),l=p("select"),a=o((()=>e.props.popperClass)),n=o((()=>e.props.multiple)),s=o((()=>e.props.fitInputWidth)),i=w("");function r(){var l;i.value=`${null==(l=e.selectWrapper)?void 0:l.offsetWidth}px`}return I((()=>{r(),T(e.selectWrapper,r)})),{ns:l,minWidth:i,popperClass:a,isMultiple:n,isFitInputWidth:s}}}),[["render",function(e,l,t,o,a,n){return g(),y("div",{class:x([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:M({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[S(e.$slots,"default")],6)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);const Pe=(e,t,a)=>{const{t:r}=E(),u=p("select");me({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},o((()=>!1===e.suffixTransition)));const c=w(null),d=w(null),v=w(null),m=w(null),f=w(null),b=w(null),g=w(null),y=w(-1),S=V({query:""}),C=V(""),O=w([]);let x=0;const{form:L,formItem:I}=fe(),T=o((()=>!e.filterable||e.multiple||!t.visible)),M=o((()=>e.disabled||(null==L?void 0:L.disabled))),K=o((()=>{const l=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:void 0!==e.modelValue&&null!==e.modelValue&&""!==e.modelValue;return e.clearable&&!M.value&&t.inputHovering&&l})),H=o((()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon)),j=o((()=>u.is("reverse",H.value&&t.visible&&e.suffixTransition))),_=o((()=>e.remote?300:0)),R=o((()=>e.loading?e.loadingText||r("el.select.loading"):(!e.remote||""!==t.query||0!==t.options.size)&&(e.filterable&&t.query&&t.options.size>0&&0===t.filteredOptionsCount?e.noMatchText||r("el.select.noMatch"):0===t.options.size?e.noDataText||r("el.select.noData"):null))),$=o((()=>{const e=Array.from(t.options.values()),l=[];return O.value.forEach((t=>{const o=e.findIndex((e=>e.currentLabel===t));o>-1&&l.push(e[o])})),l.length?l:e})),N=o((()=>Array.from(t.cachedOptions.values()))),Q=o((()=>{const l=$.value.filter((e=>!e.created)).some((e=>e.currentLabel===t.query));return e.filterable&&e.allowCreate&&""!==t.query&&!l})),G=be(),U=o((()=>["small"].includes(G.value)?"small":"default")),Y=o({get:()=>t.visible&&!1!==R.value,set(e){t.visible=e}});i([()=>M.value,()=>G.value,()=>null==L?void 0:L.size],(()=>{h((()=>{J()}))})),i((()=>e.placeholder),(e=>{t.cachedPlaceHolder=t.currentPlaceholder=e})),i((()=>e.modelValue),((l,o)=>{e.multiple&&(J(),l&&l.length>0||d.value&&""!==t.query?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",X(t.query))),le(),e.filterable&&!e.multiple&&(t.inputLength=20),!Ce(l,o)&&e.validateEvent&&(null==I||I.validate("change").catch((e=>P())))}),{flush:"post",deep:!0}),i((()=>t.visible),(l=>{var o,n,s,i,r;l?(null==(n=null==(o=m.value)?void 0:o.updatePopper)||n.call(o),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,null==(i=null==(s=v.value)?void 0:s.focus)||i.call(s),e.multiple?null==(r=d.value)||r.focus():t.selectedLabel&&(t.currentPlaceholder=`${t.selectedLabel}`,t.selectedLabel=""),X(t.query),e.multiple||e.remote||(S.value.query="",D(S),D(C)))):(e.filterable&&(k(e.filterMethod)&&e.filterMethod(""),k(e.remoteMethod)&&e.remoteMethod("")),d.value&&d.value.blur(),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,oe(),h((()=>{d.value&&""===d.value.value&&0===t.selected.length&&(t.currentPlaceholder=t.cachedPlaceHolder)})),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),a.emit("visible-change",l)})),i((()=>t.options.entries()),(()=>{var l,o,a;if(!z)return;null==(o=null==(l=m.value)?void 0:l.updatePopper)||o.call(l),e.multiple&&J();const n=(null==(a=b.value)?void 0:a.querySelectorAll("input"))||[];Array.from(n).includes(document.activeElement)||le(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&ee()}),{flush:"post"}),i((()=>t.hoverIndex),(e=>{B(e)&&e>-1?y.value=$.value[e]||{}:y.value={},$.value.forEach((e=>{e.hover=y.value===e}))}));const J=()=>{h((()=>{var e,o;if(!c.value)return;const a=c.value.$el.querySelector("input");x=x||(a.clientHeight>0?a.clientHeight+2:0);const n=f.value,s=(i=G.value||(null==L?void 0:L.size),l[i||"default"]);var i;const r=s===x||x<=0?s:x;!(null===a.offsetParent)&&(a.style.height=(0===t.selected.length?r:Math.max(n?n.clientHeight+(n.clientHeight>r?6:0):0,r))-2+"px"),t.tagInMultiLine=Number.parseFloat(a.style.height)>=r,t.visible&&!1!==R.value&&(null==(o=null==(e=m.value)?void 0:e.updatePopper)||o.call(e))}))},X=async l=>{t.previousQuery===l||t.isOnComposition||(null!==t.previousQuery||!k(e.filterMethod)&&!k(e.remoteMethod)?(t.previousQuery=l,h((()=>{var e,l;t.visible&&(null==(l=null==(e=m.value)?void 0:e.updatePopper)||l.call(e))})),t.hoverIndex=-1,e.multiple&&e.filterable&&h((()=>{const l=15*d.value.value.length+20;t.inputLength=e.collapseTags?Math.min(50,l):l,Z(),J()})),e.remote&&k(e.remoteMethod)?(t.hoverIndex=-1,e.remoteMethod(l)):k(e.filterMethod)?(e.filterMethod(l),D(C)):(t.filteredOptionsCount=t.optionsCount,S.value.query=l,D(S),D(C)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&(await h(),ee())):t.previousQuery=l)},Z=()=>{""!==t.currentPlaceholder&&(t.currentPlaceholder=d.value.value?"":t.cachedPlaceHolder)},ee=()=>{const e=$.value.filter((e=>e.visible&&!e.disabled&&!e.states.groupDisabled)),l=e.find((e=>e.created)),o=e[0];t.hoverIndex=pe($.value,l||o)},le=()=>{var l;if(!e.multiple){const o=te(e.modelValue);return(null==(l=o.props)?void 0:l.created)?(t.createdLabel=o.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=o.currentLabel,t.selected=o,void(e.filterable&&(t.query=t.selectedLabel))}t.selectedLabel="";const o=[];Array.isArray(e.modelValue)&&e.modelValue.forEach((e=>{o.push(te(e))})),t.selected=o,h((()=>{J()}))},te=l=>{let o;const a="object"===q(l).toLowerCase(),n="null"===q(l).toLowerCase(),i="undefined"===q(l).toLowerCase();for(let u=t.cachedOptions.size-1;u>=0;u--){const t=N.value[u];if(a?s(t.value,e.valueKey)===s(l,e.valueKey):t.value===l){o={value:l,currentLabel:t.currentLabel,isDisabled:t.isDisabled};break}}if(o)return o;const r={value:l,currentLabel:a?l.label:n||i?"":l};return e.multiple&&(r.hitState=!1),r},oe=()=>{setTimeout((()=>{const l=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map((e=>$.value.findIndex((t=>s(t,l)===s(e,l)))))):t.hoverIndex=-1:t.hoverIndex=$.value.findIndex((e=>Le(e)===Le(t.selected)))}),300)},ae=()=>{var e;t.inputWidth=null==(e=c.value)?void 0:e.$el.offsetWidth},ne=Oe((()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,X(t.query))}),_.value),se=Oe((e=>{X(e.target.value)}),_.value),ie=l=>{Ce(e.modelValue,l)||a.emit(ye,l)},re=l=>{l.stopPropagation();const o=e.multiple?[]:"";if(!A(o))for(const e of t.selected)e.isDisabled&&o.push(e.value);a.emit(ge,o),ie(o),t.hoverIndex=-1,t.visible=!1,a.emit("clear")},ue=(l,o)=>{var n;if(e.multiple){const o=(e.modelValue||[]).slice(),s=pe(o,l.value);s>-1?o.splice(s,1):(e.multipleLimit<=0||o.length<e.multipleLimit)&&o.push(l.value),a.emit(ge,o),ie(o),l.created&&(t.query="",X(""),t.inputLength=20),e.filterable&&(null==(n=d.value)||n.focus())}else a.emit(ge,l.value),ie(l.value),t.visible=!1;t.isSilentBlur=o,de(),t.visible||h((()=>{ve(l)}))},pe=(l=[],t)=>{if(!W(t))return l.indexOf(t);const o=e.valueKey;let a=-1;return l.some(((e,l)=>n(s(e,o))===s(t,o)&&(a=l,!0))),a},de=()=>{t.softFocus=!0;const e=d.value||c.value;e&&(null==e||e.focus())},ve=e=>{var l,t,o,a,n;const s=Array.isArray(e)?e[0]:e;let i=null;if(null==s?void 0:s.value){const e=$.value.filter((e=>e.value===s.value));e.length>0&&(i=e[0].$el)}if(m.value&&i){const e=null==(a=null==(o=null==(t=null==(l=m.value)?void 0:l.popperRef)?void 0:t.contentRef)?void 0:o.querySelector)?void 0:a.call(o,`.${u.be("dropdown","wrap")}`);e&&Se(e,i)}null==(n=g.value)||n.handleScroll()},he=e=>{if(!Array.isArray(t.selected))return;const l=t.selected[t.selected.length-1];return l?!0===e||!1===e?(l.hitState=e,e):(l.hitState=!l.hitState,l.hitState):void 0},xe=e=>{var l;e&&!t.mouseEnter||M.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:m.value&&m.value.isFocusInsideContent()||(t.visible=!t.visible),t.visible&&(null==(l=d.value||c.value)||l.focus()))},Le=l=>W(l.value)?s(l.value,e.valueKey):l.value,we=o((()=>$.value.filter((e=>e.visible)).every((e=>e.disabled)))),Ie=o((()=>t.selected.slice(0,e.maxCollapseTags))),Te=o((()=>t.selected.slice(e.maxCollapseTags))),Me=e=>{if(t.visible){if(0!==t.options.size&&0!==t.filteredOptionsCount&&!t.isOnComposition&&!we.value){"next"===e?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):"prev"===e&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const l=$.value[t.hoverIndex];!0!==l.disabled&&!0!==l.states.groupDisabled&&l.visible||Me(e),h((()=>ve(y.value)))}}else t.visible=!0};return{optionList:O,optionsArray:$,selectSize:G,handleResize:()=>{var l,t;ae(),null==(t=null==(l=m.value)?void 0:l.updatePopper)||t.call(l),e.multiple&&J()},debouncedOnInputChange:ne,debouncedQueryChange:se,deletePrevTag:l=>{if(l.target.value.length<=0&&!he()){const l=e.modelValue.slice();l.pop(),a.emit(ge,l),ie(l)}1===l.target.value.length&&0===e.modelValue.length&&(t.currentPlaceholder=t.cachedPlaceHolder)},deleteTag:(l,o)=>{const n=t.selected.indexOf(o);if(n>-1&&!M.value){const l=e.modelValue.slice();l.splice(n,1),a.emit(ge,l),ie(l),a.emit("remove-tag",o.value)}l.stopPropagation()},deleteSelected:re,handleOptionSelect:ue,scrollToOption:ve,readonly:T,resetInputHeight:J,showClose:K,iconComponent:H,iconReverse:j,showNewOption:Q,collapseTagSize:U,setSelected:le,managePlaceholder:Z,selectDisabled:M,emptyText:R,toggleLastOptionHitState:he,resetInputState:e=>{e.code!==F.backspace&&he(!1),t.inputLength=15*d.value.value.length+20,J()},handleComposition:e=>{const l=e.target.value;if("compositionend"===e.type)t.isOnComposition=!1,h((()=>X(l)));else{const e=l[l.length-1]||"";t.isOnComposition=!ce(e)}},onOptionCreate:e=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(e.value,e),t.cachedOptions.set(e.value,e)},onOptionDestroy:(e,l)=>{t.options.get(e)===l&&(t.optionsCount--,t.filteredOptionsCount--,t.options.delete(e))},handleMenuEnter:()=>{h((()=>ve(t.selected)))},handleFocus:l=>{t.softFocus?t.softFocus=!1:((e.automaticDropdown||e.filterable)&&(e.filterable&&!t.visible&&(t.menuVisibleOnFocus=!0),t.visible=!0),a.emit("focus",l))},blur:()=>{var e,l,o;t.visible=!1,null==(e=c.value)||e.blur(),null==(o=null==(l=v.value)?void 0:l.blur)||o.call(l)},handleBlur:e=>{h((()=>{t.isSilentBlur?t.isSilentBlur=!1:a.emit("blur",e)})),t.softFocus=!1},handleClearClick:e=>{re(e)},handleClose:()=>{t.visible=!1},handleKeydownEscape:e=>{t.visible&&(e.preventDefault(),e.stopPropagation(),t.visible=!1)},toggleMenu:xe,selectOption:()=>{t.visible?$.value[t.hoverIndex]&&ue($.value[t.hoverIndex],void 0):xe()},getValueKey:Le,navigateOptions:Me,dropMenuVisible:Y,queryChange:S,groupQueryChange:C,showTagList:Ie,collapseTagList:Te,reference:c,input:d,iOSInput:v,tooltipRef:m,tags:f,selectWrapper:b,scrollbar:g,handleMouseEnter:()=>{t.mouseEnter=!0},handleMouseLeave:()=>{t.mouseEnter=!1}}};var ke=u({name:"ElOptions",emits:["update-options"],setup(e,{slots:l,emit:t}){let o=[];return()=>{var e,a;const n=null==(e=l.default)?void 0:e.call(l),s=[];return n.length&&function e(l){Array.isArray(l)&&l.forEach((l=>{var t,o,a,n;const i=null==(t=(null==l?void 0:l.type)||{})?void 0:t.name;"ElOptionGroup"===i?e(A(l.children)||Array.isArray(l.children)||!k(null==(o=l.children)?void 0:o.default)?l.children:null==(a=l.children)?void 0:a.default()):"ElOption"===i?s.push(null==(n=l.props)?void 0:n.label):Array.isArray(l.children)&&e(l.children)}))}(null==(a=n[0])?void 0:a.children),function(e,l){if(e.length!==l.length)return!1;for(const[t]of e.entries())if(e[t]!=l[t])return!1;return!0}(s,o)||(o=s,t("update-options",s)),n}}});const De="ElSelect",ze=u({name:De,componentName:De,components:{ElInput:de,ElSelectMenu:Ve,ElOption:Ee,ElOptions:ke,ElTag:ve,ElScrollbar:K,ElTooltip:re,ElIcon:H},directives:{ClickOutside:xe},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:Le},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:ue.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:j,default:_},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:j,default:R},tagType:{...he.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:pe,default:"bottom-start"}},emits:[ge,ye,"remove-tag","clear","visible-change","focus","blur"],setup(e,l){const t=p("select"),a=p("input"),{t:n}=E(),s=function(e){const{t:l}=E();return c({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:l("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1,mouseEnter:!1})}(e),{optionList:i,optionsArray:u,selectSize:v,readonly:m,handleResize:f,collapseTagSize:b,debouncedOnInputChange:g,debouncedQueryChange:y,deletePrevTag:S,deleteTag:C,deleteSelected:O,handleOptionSelect:x,scrollToOption:L,setSelected:w,resetInputHeight:M,managePlaceholder:V,showClose:P,selectDisabled:k,iconComponent:D,iconReverse:z,showNewOption:B,emptyText:q,toggleLastOptionHitState:W,resetInputState:A,handleComposition:F,onOptionCreate:K,onOptionDestroy:H,handleMenuEnter:j,handleFocus:_,blur:R,handleBlur:Q,handleClearClick:G,handleClose:U,handleKeydownEscape:Y,toggleMenu:J,selectOption:X,getValueKey:Z,navigateOptions:ee,dropMenuVisible:le,reference:te,input:oe,iOSInput:ae,tooltipRef:ne,tags:se,selectWrapper:ie,scrollbar:re,queryChange:ue,groupQueryChange:pe,handleMouseEnter:ce,handleMouseLeave:de,showTagList:ve,collapseTagList:he}=Pe(e,s,l),{focus:me}=(fe=te,{focus:()=>{var e,l;null==(l=null==(e=fe.value)?void 0:e.focus)||l.call(e)}});var fe;const{inputWidth:be,selected:ye,inputLength:Se,filteredOptionsCount:Ce,visible:Oe,softFocus:xe,selectedLabel:Le,hoverIndex:we,query:Ie,inputHovering:Te,currentPlaceholder:Ee,menuVisibleOnFocus:Ve,isOnComposition:ke,isSilentBlur:De,options:ze,cachedOptions:Be,optionsCount:qe,prefixWidth:We,tagInMultiLine:Ae}=d(s),Fe=o((()=>{const l=[t.b()],o=r(v);return o&&l.push(t.m(o)),e.disabled&&l.push(t.m("disabled")),l})),Ke=o((()=>({maxWidth:r(be)-32+"px",width:"100%"}))),He=o((()=>({maxWidth:`${r(be)>123?r(be)-123:r(be)-75}px`})));$(Me,c({props:e,options:ze,optionsArray:u,cachedOptions:Be,optionsCount:qe,filteredOptionsCount:Ce,hoverIndex:we,handleOptionSelect:x,onOptionCreate:K,onOptionDestroy:H,selectWrapper:ie,selected:ye,setSelected:w,queryChange:ue,groupQueryChange:pe})),I((()=>{s.cachedPlaceHolder=Ee.value=e.placeholder||(()=>n("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(Ee.value=""),T(ie,f),e.remote&&e.multiple&&M(),h((()=>{const e=te.value&&te.value.$el;if(e&&(be.value=e.getBoundingClientRect().width,l.slots.prefix)){const l=e.querySelector(`.${a.e("prefix")}`);We.value=Math.max(l.getBoundingClientRect().width+5,30)}})),w()})),e.multiple&&!Array.isArray(e.modelValue)&&l.emit(ge,[]),!e.multiple&&Array.isArray(e.modelValue)&&l.emit(ge,"");const je=o((()=>{var e,l;return null==(l=null==(e=ne.value)?void 0:e.popperRef)?void 0:l.contentRef}));return{isIOS:N,onOptionsRendered:e=>{i.value=e},tagInMultiLine:Ae,prefixWidth:We,selectSize:v,readonly:m,handleResize:f,collapseTagSize:b,debouncedOnInputChange:g,debouncedQueryChange:y,deletePrevTag:S,deleteTag:C,deleteSelected:O,handleOptionSelect:x,scrollToOption:L,inputWidth:be,selected:ye,inputLength:Se,filteredOptionsCount:Ce,visible:Oe,softFocus:xe,selectedLabel:Le,hoverIndex:we,query:Ie,inputHovering:Te,currentPlaceholder:Ee,menuVisibleOnFocus:Ve,isOnComposition:ke,isSilentBlur:De,options:ze,resetInputHeight:M,managePlaceholder:V,showClose:P,selectDisabled:k,iconComponent:D,iconReverse:z,showNewOption:B,emptyText:q,toggleLastOptionHitState:W,resetInputState:A,handleComposition:F,handleMenuEnter:j,handleFocus:_,blur:R,handleBlur:Q,handleClearClick:G,handleClose:U,handleKeydownEscape:Y,toggleMenu:J,selectOption:X,getValueKey:Z,navigateOptions:ee,dropMenuVisible:le,focus:me,reference:te,input:oe,iOSInput:ae,tooltipRef:ne,popperPaneRef:je,tags:se,selectWrapper:ie,scrollbar:re,wrapperKls:Fe,selectTagsStyle:Ke,nsSelect:t,tagTextStyle:He,handleMouseEnter:ce,handleMouseLeave:de,showTagList:ve,collapseTagList:he}}}),Be=["disabled","autocomplete"],qe=["disabled"],We={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};var Ae=m(ze,[["render",function(e,l,t,o,a,n){const s=Q("el-tag"),i=Q("el-tooltip"),r=Q("el-icon"),u=Q("el-input"),p=Q("el-option"),c=Q("el-options"),d=Q("el-scrollbar"),v=Q("el-select-menu"),h=G("click-outside");return f((g(),y("div",{ref:"selectWrapper",class:x(e.wrapperKls),onMouseenter:l[21]||(l[21]=(...l)=>e.handleMouseEnter&&e.handleMouseEnter(...l)),onMouseleave:l[22]||(l[22]=(...l)=>e.handleMouseLeave&&e.handleMouseLeave(...l)),onClick:l[23]||(l[23]=L(((...l)=>e.toggleMenu&&e.toggleMenu(...l)),["stop"]))},[U(i,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:Y((()=>[C("div",{class:"select-trigger",onMouseenter:l[19]||(l[19]=l=>e.inputHovering=!0),onMouseleave:l[20]||(l[20]=l=>e.inputHovering=!1)},[e.multiple?(g(),y("div",{key:0,ref:"tags",class:x([e.nsSelect.e("tags"),e.nsSelect.is("disabled",e.selectDisabled)]),style:M(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?(g(),J(X,{key:0,onAfterLeave:e.resetInputHeight},{default:Y((()=>[C("span",{class:x([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(g(!0),y(Z,null,ee(e.showTagList,(l=>(g(),J(s,{key:e.getValueKey(l),closable:!e.selectDisabled&&!l.isDisabled,size:e.collapseTagSize,hit:l.hitState,type:e.tagType,"disable-transitions":"",onClose:t=>e.deleteTag(t,l)},{default:Y((()=>[C("span",{class:x(e.nsSelect.e("tags-text")),style:M(e.tagTextStyle)},O(l.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])))),128)),e.selected.length>e.maxCollapseTags?(g(),J(s,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:Y((()=>[e.collapseTagsTooltip?(g(),J(i,{key:0,disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:Y((()=>[C("span",{class:x(e.nsSelect.e("tags-text"))},"+ "+O(e.selected.length-e.maxCollapseTags),3)])),content:Y((()=>[C("div",{class:x(e.nsSelect.e("collapse-tags"))},[(g(!0),y(Z,null,ee(e.collapseTagList,(l=>(g(),y("div",{key:e.getValueKey(l),class:x(e.nsSelect.e("collapse-tag"))},[U(s,{class:"in-tooltip",closable:!e.selectDisabled&&!l.isDisabled,size:e.collapseTagSize,hit:l.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:t=>e.deleteTag(t,l)},{default:Y((()=>[C("span",{class:x(e.nsSelect.e("tags-text")),style:M({maxWidth:e.inputWidth-75+"px"})},O(l.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])],2)))),128))],2)])),_:1},8,["disabled","effect","teleported"])):(g(),y("span",{key:1,class:x(e.nsSelect.e("tags-text"))},"+ "+O(e.selected.length-e.maxCollapseTags),3))])),_:1},8,["size","type"])):le("v-if",!0)],2)])),_:1},8,["onAfterLeave"])):le("v-if",!0),e.collapseTags?le("v-if",!0):(g(),J(X,{key:1,onAfterLeave:e.resetInputHeight},{default:Y((()=>[C("span",{class:x([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(g(!0),y(Z,null,ee(e.selected,(l=>(g(),J(s,{key:e.getValueKey(l),closable:!e.selectDisabled&&!l.isDisabled,size:e.collapseTagSize,hit:l.hitState,type:e.tagType,"disable-transitions":"",onClose:t=>e.deleteTag(t,l)},{default:Y((()=>[C("span",{class:x(e.nsSelect.e("tags-text")),style:M({maxWidth:e.inputWidth-75+"px"})},O(l.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])))),128))],2)])),_:1},8,["onAfterLeave"])),e.filterable?f((g(),y("input",{key:2,ref:"input","onUpdate:modelValue":l[0]||(l[0]=l=>e.query=l),type:"text",class:x([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize),e.nsSelect.is("disabled",e.selectDisabled)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:M({marginLeft:e.prefixWidth&&!e.selected.length||e.tagInMultiLine?`${e.prefixWidth}px`:"",flexGrow:1,width:e.inputLength/(e.inputWidth-32)+"%",maxWidth:e.inputWidth-42+"px"}),onFocus:l[1]||(l[1]=(...l)=>e.handleFocus&&e.handleFocus(...l)),onBlur:l[2]||(l[2]=(...l)=>e.handleBlur&&e.handleBlur(...l)),onKeyup:l[3]||(l[3]=(...l)=>e.managePlaceholder&&e.managePlaceholder(...l)),onKeydown:[l[4]||(l[4]=(...l)=>e.resetInputState&&e.resetInputState(...l)),l[5]||(l[5]=te(L((l=>e.navigateOptions("next")),["prevent"]),["down"])),l[6]||(l[6]=te(L((l=>e.navigateOptions("prev")),["prevent"]),["up"])),l[7]||(l[7]=te(((...l)=>e.handleKeydownEscape&&e.handleKeydownEscape(...l)),["esc"])),l[8]||(l[8]=te(L(((...l)=>e.selectOption&&e.selectOption(...l)),["stop","prevent"]),["enter"])),l[9]||(l[9]=te(((...l)=>e.deletePrevTag&&e.deletePrevTag(...l)),["delete"])),l[10]||(l[10]=te((l=>e.visible=!1),["tab"]))],onCompositionstart:l[11]||(l[11]=(...l)=>e.handleComposition&&e.handleComposition(...l)),onCompositionupdate:l[12]||(l[12]=(...l)=>e.handleComposition&&e.handleComposition(...l)),onCompositionend:l[13]||(l[13]=(...l)=>e.handleComposition&&e.handleComposition(...l)),onInput:l[14]||(l[14]=(...l)=>e.debouncedQueryChange&&e.debouncedQueryChange(...l))},null,46,Be)),[[oe,e.query]]):le("v-if",!0)],6)):le("v-if",!0),le(" fix: https://github.com/element-plus/element-plus/issues/11415 "),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(g(),y("input",{key:1,ref:"iOSInput",class:x([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize),e.nsSelect.em("input","iOS")]),disabled:e.selectDisabled,type:"text"},null,10,qe)):le("v-if",!0),U(u,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":l[15]||(l[15]=l=>e.selectedLabel=l),type:"text",placeholder:"function"==typeof e.currentPlaceholder?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:x([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[l[16]||(l[16]=te(L((l=>e.navigateOptions("next")),["stop","prevent"]),["down"])),l[17]||(l[17]=te(L((l=>e.navigateOptions("prev")),["stop","prevent"]),["up"])),te(L(e.selectOption,["stop","prevent"]),["enter"]),te(e.handleKeydownEscape,["esc"]),l[18]||(l[18]=te((l=>e.visible=!1),["tab"]))]},ae({suffix:Y((()=>[e.iconComponent&&!e.showClose?(g(),J(r,{key:0,class:x([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:Y((()=>[(g(),J(ne(e.iconComponent)))])),_:1},8,["class"])):le("v-if",!0),e.showClose&&e.clearIcon?(g(),J(r,{key:1,class:x([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:Y((()=>[(g(),J(ne(e.clearIcon)))])),_:1},8,["class","onClick"])):le("v-if",!0)])),_:2},[e.$slots.prefix?{name:"prefix",fn:Y((()=>[C("div",We,[S(e.$slots,"prefix")])]))}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)])),content:Y((()=>[U(v,null,{default:Y((()=>[f(U(d,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:x([e.nsSelect.is("empty",!e.allowCreate&&Boolean(e.query)&&0===e.filteredOptionsCount)])},{default:Y((()=>[e.showNewOption?(g(),J(p,{key:0,value:e.query,created:!0},null,8,["value"])):le("v-if",!0),U(c,{onUpdateOptions:e.onOptionsRendered},{default:Y((()=>[S(e.$slots,"default")])),_:3},8,["onUpdateOptions"])])),_:3},8,["wrap-class","view-class","class"]),[[b,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&0===e.options.size)?(g(),y(Z,{key:0},[e.$slots.empty?S(e.$slots,"empty",{key:0}):(g(),y("p",{key:1,class:x(e.nsSelect.be("dropdown","empty"))},O(e.emptyText),3))],64)):le("v-if",!0)])),_:3})])),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[h,e.handleClose,e.popperPaneRef]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);var Fe=m(u({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const l=p("select"),o=w(!0),s=a(),r=w([]);$(Te,c({...d(e)}));const u=t(Me);I((()=>{r.value=v(s.subTree)}));const v=e=>{const l=[];return Array.isArray(e.children)&&e.children.forEach((e=>{var t;e.type&&"ElOption"===e.type.name&&e.component&&e.component.proxy?l.push(e.component.proxy):(null==(t=e.children)?void 0:t.length)&&l.push(...v(e))})),l},{groupQueryChange:h}=n(u);return i(h,(()=>{o.value=r.value.some((e=>!0===e.visible))}),{flush:"post"}),{visible:o,ns:l}}}),[["render",function(e,l,t,o,a,n){return f((g(),y("ul",{class:x(e.ns.be("group","wrap"))},[C("li",{class:x(e.ns.be("group","title"))},O(e.label),3),C("li",null,[C("ul",{class:x(e.ns.b("group"))},[S(e.$slots,"default")],2)])],2)),[[b,e.visible]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const Ke=se(Ae,{Option:Ee,OptionGroup:Fe}),He=ie(Ee),je=ie(Fe);export{Ke as E,He as a,je as b,Ie as c,we as e};
