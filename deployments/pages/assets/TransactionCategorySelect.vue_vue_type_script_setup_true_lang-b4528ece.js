import{d as e,r as a,v as l,z as t,D as s,o as u,h as o,w as d,c as i,G as r,F as n,a as c,x as m,k as p}from"./index-c922549f.js";import{E as b,a as f}from"./el-select-2d83cd87.js";import"./el-input-5992562e.js";/* empty css               */import"./el-popper-777547bb.js";import{f as v,h as y}from"./index-186e8914.js";const g=e({__name:"TransactionCategorySelect",props:{modelValue:{default:""},size:{default:"default"},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clubUuid:{default:""}},emits:["update:modelValue"],setup(e,{emit:g}){const h=e,{t:V}=p(),j=a([]),z=a(!1),_=l({get:()=>h.modelValue,set(e){g("update:modelValue",e)}}),x=async(e="")=>{let a=[],l=c(_);const t=l;if(z.value=!0,l)try{const e=await v(l);a.push(e)}catch(s){l=""}try{const t=(await y({club:h.clubUuid,name_contains:e})).results.filter((e=>e.uuid!==l));a=a.concat(t),h.clearable||l||!a.length||(l=a[0].uuid)}finally{(!t&&l||t&&!l)&&(_.value=l),j.value=a,z.value=!1}};return t((()=>{x()})),s((()=>{x()})),(e,a)=>(u(),o(c(b),{modelValue:c(_),"onUpdate:modelValue":a[0]||(a[0]=e=>m(_)?_.value=e:null),loading:z.value,placeholder:c(V)("accounting.transactionCategory"),size:h.size,disabled:h.disabled,clearable:h.clearable,remote:!0,"remote-method":x,filterable:""},{default:d((()=>[(u(!0),i(n,null,r(j.value,(e=>(u(),o(c(f),{key:e.uuid,label:e.name,value:e.uuid},null,8,["label","value"])))),128))])),_:1},8,["modelValue","loading","placeholder","size","disabled","clearable"]))}});export{g as _};
