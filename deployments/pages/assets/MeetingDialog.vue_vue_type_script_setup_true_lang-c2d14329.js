import{d as e,v as a,r as l,C as t,o as u,h as o,w as m,e as i,g as d,a as s,B as n,t as r,x as p,k as c,E as v}from"./index-c922549f.js";/* empty css                        */import{E as f,a as g}from"./el-button-3322aa8d.js";import{E as b}from"./el-dialog-4f02e0ff.js";import"./el-overlay-51fc3bc1.js";import{E as V,a as _}from"./el-form-item-969f14b2.js";import{E as y}from"./el-input-5992562e.js";import{E as U}from"./el-date-picker-62bfc5e6.js";import"./el-popper-777547bb.js";import{m as h,c as j,g as x}from"./index-51cc2b47.js";import{_ as w}from"./VenueSelect.vue_vue_type_script_setup_true_lang-c637ae4b.js";const E={class:"dialog-footer"},k=e({__name:"MeetingDialog",props:{visible:{type:Boolean,default:!1},clubUuid:{default:""},meetingUuid:{default:""}},emits:["update:visible","created","edited"],setup(e,{emit:k}){const C=e,{t:S}=c(),B=a({get:()=>C.visible,set(e){k("update:visible",e)}}),F={uuid:"",name:"",theme:"",time:"",venue:"",notes:""},M=l({...F});return t(B,(async()=>{await(async()=>{if(B.value)if(C.meetingUuid)try{const e=await x(C.meetingUuid);M.value=e}catch(e){M.value={...F}}else M.value={...F}})()})),(e,a)=>(u(),o(s(b),{modelValue:s(B),"onUpdate:modelValue":a[7]||(a[7]=e=>p(B)?B.value=e:null),title:s(S)("meetings.meeting")},{footer:m((()=>[i("span",E,[d(s(g),null,{default:m((()=>[d(s(f),{onClick:a[5]||(a[5]=e=>B.value=!1)},{default:m((()=>[n(r(s(S)("common.cancel")),1)])),_:1}),d(s(f),{type:"primary",onClick:a[6]||(a[6]=e=>(async()=>{const e={...s(M)};if(e.club=C.clubUuid,C.meetingUuid)try{const a=await h(C.meetingUuid,e);k("edited",s(a))}catch(a){return void v({type:"error",message:S("common.updateFailed")})}else try{const a=await j(e);k("created",s(a))}catch(a){return void v({type:"error",message:S("common.addFailed")})}B.value=!1})())},{default:m((()=>[n(r(s(S)("common.ok")),1)])),_:1})])),_:1})])])),default:m((()=>[d(s(_),{model:M.value,"label-width":"80px",style:{"padding-right":"50px"}},{default:m((()=>[d(s(V),{label:s(S)("meetings.meetingTime")},{default:m((()=>[d(s(U),{modelValue:M.value.time,"onUpdate:modelValue":a[0]||(a[0]=e=>M.value.time=e),type:"datetime",placeholder:"Select date and time"},null,8,["modelValue"])])),_:1},8,["label"]),d(s(V),{label:s(S)("meetings.venue")},{default:m((()=>[d(w,{modelValue:M.value.venue,"onUpdate:modelValue":a[1]||(a[1]=e=>M.value.venue=e),"club-uuid":C.clubUuid},null,8,["modelValue","club-uuid"])])),_:1},8,["label"]),d(s(V),{label:s(S)("common.name")},{default:m((()=>[d(s(y),{modelValue:M.value.name,"onUpdate:modelValue":a[2]||(a[2]=e=>M.value.name=e)},null,8,["modelValue"])])),_:1},8,["label"]),d(s(V),{label:s(S)("meetings.meetingTheme")},{default:m((()=>[d(s(y),{modelValue:M.value.theme,"onUpdate:modelValue":a[3]||(a[3]=e=>M.value.theme=e),type:"textarea"},null,8,["modelValue"])])),_:1},8,["label"]),d(s(V),{label:s(S)("meetings.meetingNotes")},{default:m((()=>[d(s(y),{modelValue:M.value.notes,"onUpdate:modelValue":a[4]||(a[4]=e=>M.value.notes=e),type:"textarea"},null,8,["modelValue"])])),_:1},8,["label"])])),_:1},8,["model"])])),_:1},8,["modelValue","title"]))}});export{k as _};
