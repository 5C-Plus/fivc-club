import{d as e,r as a,v as l,z as t,D as s,o,h as i,w as r,c as u,G as d,F as n,a as p,x as m,k as c,e as f,t as b}from"./index-c922549f.js";import{E as g,a as v}from"./el-select-2d83cd87.js";import"./el-input-5992562e.js";/* empty css               */import"./el-popper-777547bb.js";import{g as y,l as h}from"./index-ccc23f63.js";const V={style:{float:"left","margin-right":"5px"}},x={style:{float:"right",color:"var(--el-text-color-secondary)","font-size":"13px"}},j=e({__name:"ProgramSelect",props:{modelValue:{default:""},size:{default:"default"},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:j}){const z=e,{t:_}=c(),w=a([]),k=a(!1),B=l({get:()=>z.modelValue,set(e){j("update:modelValue",e)}}),D=async(e="")=>{let a=[],l=p(B);const t=l;if(k.value=!0,l)try{const e=await y(l);a.push(e)}catch(s){l=""}try{const t=(await h({alias_contains:e})).results.filter((e=>e.uuid!==l));a=a.concat(t),z.clearable||l||!a.length||(l=a[0].uuid)}finally{(!t&&l||t&&!l)&&(B.value=l),w.value=a,k.value=!1}};return t((()=>{D()})),s((()=>{D()})),(e,a)=>(o(),i(p(g),{modelValue:p(B),"onUpdate:modelValue":a[0]||(a[0]=e=>m(B)?B.value=e:null),loading:k.value,placeholder:p(_)("configs.program"),size:z.size,disabled:z.disabled,clearable:z.clearable,remote:!0,"remote-method":D,filterable:""},{default:r((()=>[(o(!0),u(n,null,d(w.value,(e=>(o(),i(p(v),{key:e.uuid,label:e.alias,value:e.uuid},{default:r((()=>[f("span",V,b(e.alias),1),f("span",x,b(e.name),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue","loading","placeholder","size","disabled","clearable"]))}});export{j as _};
