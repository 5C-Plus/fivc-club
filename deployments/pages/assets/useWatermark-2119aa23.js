import{_ as t}from"./ContentWrap.vue_vue_type_script_setup_true_lang-5554e0b6.js";import{d as e,b as r,v as a,k as o,ah as n,o as s,h as i,w as m,g as l,a as p,B as d,t as c}from"./index-c922549f.js";import{E as u}from"./el-button-3322aa8d.js";import"./el-card-a447f2d0.js";import"./el-tooltip-4ed993c7.js";import"./el-popper-777547bb.js";import"./isNil-1f22f7b0.js";import"./index-d069b56e.js";import"./constants-84857360.js";import"./focus-trap-8b9664b6.js";import"./index-075fce49.js";import"./use-form-item-04993e5b.js";import"./use-form-common-props-cca367ba.js";const f=Symbol("watermark-dom");const g=e({__name:"useWatermark",setup(e){const g=r(),k=a((()=>g.getTitle)),{setWatermark:y,clear:h}=function(t=document.body){let e=()=>{};const r=f.toString(),a=()=>{const a=document.getElementById(r);a&&t&&t.removeChild(a),window.removeEventListener("resize",e)},o=e=>{a();const o=document.createElement("canvas");o.width=300,o.height=240;const n=o.getContext("2d");n&&(n.rotate(-20*Math.PI/120),n.font="15px Vedana",n.fillStyle="rgba(0, 0, 0, 0.15)",n.textAlign="left",n.textBaseline="middle",n.fillText(e,o.width/20,o.height));const s=document.createElement("div");return s.id=r,s.style.pointerEvents="none",s.style.top="0px",s.style.left="0px",s.style.position="absolute",s.style.zIndex="100000000",s.style.width=document.documentElement.clientWidth+"px",s.style.height=document.documentElement.clientHeight+"px",s.style.background="url("+o.toDataURL("image/png")+") left top repeat",t&&t.appendChild(s),r};return{setWatermark:function(t){o(t),e=()=>{o(t)},window.addEventListener("resize",e)},clear:a}}(),{t:w}=o();return n((()=>{h()})),(e,r)=>(s(),i(p(t),{title:"useWatermark"},{default:m((()=>[l(p(u),{type:"primary",onClick:r[0]||(r[0]=t=>p(y)(p(k)))},{default:m((()=>[d(c(p(w)("watermarkDemo.createdWatermark")),1)])),_:1}),l(p(u),{type:"danger",onClick:p(h)},{default:m((()=>[d(c(p(w)("watermarkDemo.clearWatermark")),1)])),_:1},8,["onClick"]),l(p(u),{type:"warning",onClick:r[1]||(r[1]=t=>p(y)(`New${p(k)}`))},{default:m((()=>[d(c(p(w)("watermarkDemo.resetWatermark")),1)])),_:1})])),_:1}))}});export{g as default};
